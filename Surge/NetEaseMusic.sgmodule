#!name=è§£é”ç½‘æ˜“äº‘é»‘èƒ¶éŸ³ä¹è¯•å¬
#!desc=å‰¯ä½œç”¨ï¼šä¼šå¯¼è‡´æ— æ³•æ·»åŠ æ­Œå•ï¼ˆä½†ä¸å½±å“æ·»åŠ æ”¶è—ï¼‰
#!author= qiuxiuya æŠ€æœ¯æŒ‡å¯¼ï¼šKeyä½¬ï¼ˆæˆ‘æ˜¯keyä½¬é“ç²‰ï¼ï¼ï¼‰  é—®é¢˜ä¿®å¤ï¼šæ•´ç‚¹çŒ«å’ªğŸˆ
#!system=ios
[General]
force-http-engine-hosts = %APPEND% 59.111.*:0

[URL Rewrite]
^https?:\/\/httpdns.n.netease.com\/ - reject
# å¼€å±å¹¿å‘Šã€é¦–é¡µé¡¶éƒ¨æ¨ªå¹…å¹¿å‘Š
^https?:\/\/interface3?\.music\.163.com\/eapi\/ad\/.* reject

# æœç´¢é¡µã€å¡«å……è¯ã€æ’è¡Œæ¦œ
^https?:\/\/interface3?\.music\.163.com\/eapi\/search\/(chart\/(detail|list)$|default\/keyword\/list\?|rcmd\/keyword\/get\/v2$|specialkeyword\/get\?) reject

# æ’­æ”¾é¡µã€å¤šä½™å›¾æ ‡ã€å„ç§å°æç¤ºã€é«˜å“è´¨éŸ³ä¹è¯•ç”¨å¼¹çª—
^https:\/\/interface3\.music\.163\.com\/eapi\/(link\/position\/show\/(resource|strategy)|music\/songshare\/text\/recommend\/get)\? reject
^https:\/\/interface3\.music\.163\.com\/eapi\/(mlivestream\/entrance\/playpage\/v7|community\/friends\/fans-group\/artist\/group)\/get\? reject
^https:\/\/interface3\.music\.163\.com\/eapi\/mlog\/vinyl\/story\/list\? reject
^https:\/\/interface3\.music\.163\.com\/eapi\/(user\/sub\/artist\/exist|vipcenter\/tspopup\/get)\? reject
^https:\/\/interface3\.music\.163\.com\/eapi\/zone\/songplay\/entry\/get\? reject
^https?:\/\/interface3\.music\.163\.com\/eapi\/resniche\/position\/play\/new\/get\? reject

# è¯„è®ºé¡µã€å›å¤å¹¿å‘Šã€æ˜Ÿè¯„é¦†
^https?:\/\/interface3\.music\.163\.com\/eapi\/comment\/(hotcomment\/collect\/fetchmodelinfov2|feed\/inserted\/resources|tips\/v2\/get)\? reject
^https?:\/\/interface3\.music\.163\.com\/eapi\/v1\/content\/exposure\/comment\/banner\/get\? reject

# é¦–é¡µã€å³ä¸Šè§’å¤šä½™å›¾æ ‡ã€ä¼šå‘˜ç»­è´¹å¼¹çª—ã€ä¾§è¾¹æ æ¨å¹¿
^https:\/\/interface3\.music\.163\.com\/eapi\/(homepage\/banner\/ad\/get|link\/scene\/show\/resource)\? reject
^https:\/\/interface3\.music\.163\.com\/eapi\/(music-vip-membership\/client\/vip\/info|vipauth\/app\/auth\/recycle)\? reject
^https:\/\/interface3\.music\.163\.com\/eapi\/(side-bar\/mini-program\/music-service\/account|delivery\/batch-deliver)\? reject

# æˆ‘çš„é¡µé¢ã€å°éƒ¨ä»¶çº¢ç‚¹
^https:\/\/interface3\.music\.163\.com\/eapi\/mine\/applet\/redpoint\? reject

# æ’­å®¢ã€å¼¹å‡ºå¹¿å‘Š
^https:\/\/interface3\.music\.163\.com\/eapi\/voice\/play\/page\/ad\/info\? reject

# æ­Œå•é¡µã€æ¨ªå¹…å¹¿å‘Š
^https:\/\/interface\.music\.163\.com\/weapi\/middle\/clientcfg\/config\/list\? reject
^https:\/\/interface3?\.music\.163\.com\/w?eapi\/resource-exposure\/(activity\/config\/get|config)\? reject
[Rule]
DOMAIN,iadmusicmat.music.126.net,REJECT-NO-DROP
DOMAIN,iadmat.nosdn.127.net,REJECT-NO-DROP
DOMAIN,iadmatapk.nosdn.127.net,REJECT-NO-DROP
DOMAIN,iadmusicmatvideo.music.126.net,REJECT-NO-DROP
DOMAIN,httpdns.n.netease.com,REJECT-NO-DROP
DOMAIN,gdt.qq.com,REJECT-NO-DROP
DOMAIN-SUFFIX,163jiasu.com,REJECT-NO-DROP

[Map Local]
^https?:\/\/interface3?\.music\.163\.com\/eapi\/ad data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/blank_dict.json"

^https?:\/\/interface3?\.music\.163\.com\/eapi\/(community\/friends\/fans-group\/artist\/group\/get|user\/sub\/artist|music\/songshare\/text\/recommend\/get|mine\/applet\/redpoint|resniche\/position\/play\/new\/get) data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/blank_dict.json"

^https?:\/\/interface3?\.music\.163.com\/eapi\/(comment\/feed\/inserted|v\d\/content\/exposure\/comment\/banner|link\/(position\/show\/(strategy|resource)|scene\/show)|comment\/hotcomment\/collect|vipcenter\/tspopup\/get|mlivestream\/entrance\/playpage|vipauth\/app\/auth|music-vip-membership\/client\/vip\/info) data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/blank_dict.json"

^https?:\/\/interface3?\.music\.163.com\/w?e?api\/(search\/(chart|default|rcmd\/keyword|specialkeyword)|(resource-exposure\/|middle\/clientcfg\/config)|activity\/bonus\/playpage\/time\/query) data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/blank_dict.json"
[Rule]
DOMAIN,httpdns.n.netease.com,REJECT
[Script]
http-request ^https?:\/\/.+music.+(player\/url|playlist|entrance|\/eapi\/search\/).*$ script-path= https://raw.githubusercontent.com/qiuxiuya/qiuxiuya/main/Loon/wyy.js, timeout=60

[MITM]
hostname = %APPEND% *.music.163.com:0,112.13.*, 59.111.*,httpdns.n.netease.com
